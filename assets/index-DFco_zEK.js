import{h as Q,r as j,j as e,a as X,i as ee,f as se,c as h,L as R}from"./index-C6L-97Tt.js";import{B as te}from"./Breadcrumbs-FMctHjzR.js";import{B as ie}from"./BackButton-C2EPsSQO.js";import{g as ne,i as ae,f as ce,S as F,d as M,P as oe}from"./ProductsSlider-B_b4VB8g.js";import{P as re}from"./ProductCardSkeleton-C_8G50_M.js";import{u as v}from"./index-BzCR4OmE.js";import"./ProductCard-C4hgG1QM.js";function D(r){let{swiper:t,extendParams:w,on:b}=r;w({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let x=!1,f=!1;t.thumbs={swiper:null};function C(){const a=t.thumbs.swiper;if(!a||a.destroyed)return;const n=a.clickedIndex,l=a.clickedSlide;if(l&&l.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof n>"u"||n===null)return;let d;a.params.loop?d=parseInt(a.clickedSlide.getAttribute("data-swiper-slide-index"),10):d=n,t.params.loop?t.slideToLoop(d):t.slideTo(d)}function g(){const{thumbs:a}=t.params;if(x)return!1;x=!0;const n=t.constructor;if(a.swiper instanceof n){if(a.swiper.destroyed)return x=!1,!1;t.thumbs.swiper=a.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update()}else if(ae(a.swiper)){const l=Object.assign({},a.swiper);Object.assign(l,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new n(l),f=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",C),!0}function i(a){const n=t.thumbs.swiper;if(!n||n.destroyed)return;const l=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():n.params.slidesPerView;let d=1;const u=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(d=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(d=1),d=Math.floor(d),n.slides.forEach(m=>m.classList.remove(u)),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(let m=0;m<d;m+=1)ce(n.slidesEl,`[data-swiper-slide-index="${t.realIndex+m}"]`).forEach(p=>{p.classList.add(u)});else for(let m=0;m<d;m+=1)n.slides[t.realIndex+m]&&n.slides[t.realIndex+m].classList.add(u);const _=t.params.thumbs.autoScrollOffset,I=_&&!n.params.loop;if(t.realIndex!==n.realIndex||I){const m=n.activeIndex;let p,T;if(n.params.loop){const E=n.slides.find(L=>L.getAttribute("data-swiper-slide-index")===`${t.realIndex}`);p=n.slides.indexOf(E),T=t.activeIndex>t.previousIndex?"next":"prev"}else p=t.realIndex,T=p>t.previousIndex?"next":"prev";I&&(p+=T==="next"?_:-1*_),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(p)<0&&(n.params.centeredSlides?p>m?p=p-Math.floor(l/2)+1:p=p+Math.floor(l/2)-1:p>m&&n.params.slidesPerGroup,n.slideTo(p,a?0:void 0))}}b("beforeInit",()=>{const{thumbs:a}=t.params;if(!(!a||!a.swiper))if(typeof a.swiper=="string"||a.swiper instanceof HTMLElement){const n=ne(),l=()=>{const u=typeof a.swiper=="string"?n.querySelector(a.swiper):a.swiper;if(u&&u.swiper)a.swiper=u.swiper,g(),i(!0);else if(u){const _=`${t.params.eventsPrefix}init`,I=m=>{a.swiper=m.detail[0],u.removeEventListener(_,I),g(),i(!0),a.swiper.update(),t.update()};u.addEventListener(_,I)}return u},d=()=>{if(t.destroyed)return;l()||requestAnimationFrame(d)};requestAnimationFrame(d)}else g(),i(!0)}),b("slideChange update resize observerUpdate",()=>{i()}),b("setTransition",(a,n)=>{const l=t.thumbs.swiper;!l||l.destroyed||l.setTransition(n)}),b("beforeDestroy",()=>{const a=t.thumbs.swiper;!a||a.destroyed||f&&a.destroy()}),Object.assign(t.thumbs,{init:g,update:i})}const le="_dark_1iwnw_66",de="_light_1iwnw_78",me="_fadeEffect_1iwnw_107",pe="_fadeEffectActive_1iwnw_114",ue="_specsItem_1iwnw_167",_e="_optionsLabel_1iwnw_167",fe="_content_1iwnw_174",he="_errorMessage_1iwnw_198",we="_breadcrumbs_1iwnw_214",be="_backButton_1iwnw_224",xe="_pageTitle_1iwnw_233",je="_imagesSlider_1iwnw_243",ve="_mainControls_1iwnw_257",Ie="_optionsWrapper_1iwnw_272",Ne="_options_1iwnw_167",Se="_productId_1iwnw_291",ge="_optionsList_1iwnw_296",ke="_optionsColorLink_1iwnw_302",Te="_optionsColorLinkActive_1iwnw_316",Ae="_optionsIcon_1iwnw_320",Pe="_optionsCapacityLink_1iwnw_328",Ce="_optionsCapacityLinkActive_1iwnw_334",Ee="_priceWrapper_1iwnw_340",Le="_priceDiscount_1iwnw_344",ye="_priceRegular_1iwnw_351",$e="_buttons_1iwnw_359",Ve="_btnAdd_1iwnw_365",Be="_btnAddActive_1iwnw_377",Re="_btnFav_1iwnw_388",Fe="_iconFav_1iwnw_398",Me="_iconFavActive_1iwnw_405",De="_specs_1iwnw_167",Oe="_specsItemProp_1iwnw_420",qe="_about_1iwnw_424",We="_aboutTitle_1iwnw_442",Ge="_aboutItemTitle_1iwnw_447",ze="_aboutItemText_1iwnw_451",He="_techSpecs_1iwnw_455",Ue="_specsTitle_1iwnw_470",Ye="_suggestedProductsSlider_1iwnw_477",s={dark:le,light:de,fadeEffect:me,fadeEffectActive:pe,"small-text":"_small-text_1iwnw_167",specsItem:ue,optionsLabel:_e,content:fe,errorMessage:he,breadcrumbs:we,backButton:be,pageTitle:xe,imagesSlider:je,mainControls:ve,optionsWrapper:Ie,options:Ne,productId:Se,optionsList:ge,optionsColorLink:ke,optionsColorLinkActive:Te,optionsIcon:Ae,optionsCapacityLink:Pe,optionsCapacityLinkActive:Ce,priceWrapper:Ee,priceDiscount:Le,priceRegular:ye,buttons:$e,btnAdd:Ve,btnAddActive:Be,btnFav:Re,iconFav:Fe,iconFavActive:Me,specs:De,specsItemProp:Oe,about:qe,aboutTitle:We,aboutItemTitle:Ge,aboutItemText:ze,techSpecs:He,specsTitle:Ue,suggestedProductsSlider:Ye},Ze=r=>Q(`/${r}`),Je="_dark_nqlww_66",Ke="_light_nqlww_78",Qe="_fadeEffect_nqlww_107",Xe="_fadeEffectActive_nqlww_114",es="_photosGallery_nqlww_175",ss="_mainSwiper_nqlww_180",ts="_mainImage_nqlww_190",is="_thumbsSwiper_nqlww_197",ns="_thumbSlide_nqlww_214",as="_thumbImage_nqlww_223",k={dark:Je,light:Ke,fadeEffect:Qe,fadeEffectActive:Xe,"small-text":"_small-text_nqlww_167",photosGallery:es,mainSwiper:ss,mainImage:ts,thumbsSwiper:is,thumbSlide:ns,thumbImage:as};function cs(){const[r,t]=j.useState(window.innerWidth>=640?"vertical":"horizontal");return j.useEffect(()=>{const w=()=>{t(window.innerWidth>=640?"vertical":"horizontal")};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),r}const os=({images:r})=>{const[t,w]=j.useState(null),b=cs();return e.jsxs("div",{className:k.photosGallery,children:[e.jsx(F,{modules:[D],slidesPerView:1,thumbs:{swiper:t},className:k.mainSwiper,children:r.map((x,f)=>e.jsx(M,{children:e.jsx("img",{src:x,alt:`product image ${f}`,className:k.mainImage})},x))}),e.jsx(F,{onSwiper:w,spaceBetween:10,slidesPerView:"auto",centerInsufficientSlides:!0,watchSlidesProgress:!0,direction:b,modules:[D],className:k.thumbsSwiper,children:r.map((x,f)=>e.jsx(M,{className:k.thumbSlide,children:e.jsx("img",{src:x,alt:`thumb ${f}`,className:k.thumbImage})},x))})]})};function rs(r,t,w){return r.filter(b=>b.category===t&&b.itemId!==w).sort(()=>Math.random()-.5)}const ls="_dark_1534r_66",ds="_light_1534r_78",ms="_fadeEffect_1534r_107",ps="_fadeEffectActive_1534r_114",us="_content_1534r_174",_s="_skeleton_1534r_199",fs="_aboutItemText_1534r_199",hs="_aboutItemTitle_1534r_199",ws="_specsItemSkeleton_1534r_199",bs="_buttonSkeleton_1534r_199",xs="_priceSkeleton_1534r_199",js="_optionsListSkeleton_1534r_199",vs="_labelSkeleton_1534r_199",Is="_imagesSliderSkeleton_1534r_199",Ns="_breadcrumbs_1534r_199",Ss="_backButton_1534r_200",gs="_titleSkeleton_1534r_201",ks="_aboutTitle_1534r_202",Ts="_specsTitle_1534r_203",As="_sliderTitle_1534r_204",Ps="_pulse_1534r_1",Cs="_mainContent_1534r_249",Es="_mainControls_1534r_276",Ls="_optionsWrapper_1534r_287",ys="_optionsBlock_1534r_295",$s="_buttonsSkeleton_1534r_324",Vs="_specs_1534r_199",Bs="_about_1534r_199",Rs="_techSpecs_1534r_390",Fs="_specsGrid_1534r_414",Ms="_suggestedProducts_1534r_427",Ds="_slider_1534r_204",c={dark:ls,light:ds,fadeEffect:ms,fadeEffectActive:ps,"small-text":"_small-text_1534r_167",content:us,skeleton:_s,aboutItemText:fs,aboutItemTitle:hs,specsItemSkeleton:ws,buttonSkeleton:bs,priceSkeleton:xs,optionsListSkeleton:js,labelSkeleton:vs,imagesSliderSkeleton:Is,breadcrumbs:Ns,backButton:Ss,titleSkeleton:gs,aboutTitle:ks,specsTitle:Ts,sliderTitle:As,pulse:Ps,mainContent:Cs,mainControls:Es,optionsWrapper:Ls,optionsBlock:ys,buttonsSkeleton:$s,specs:Vs,about:Bs,techSpecs:Rs,specsGrid:Fs,suggestedProducts:Ms,slider:Ds},Os=()=>e.jsxs("div",{className:c.content,children:[e.jsx("div",{className:c.breadcrumbs}),e.jsx("div",{className:c.backButton}),e.jsx("div",{className:c.titleSkeleton}),e.jsxs("div",{className:c.mainContent,children:[e.jsx("div",{className:c.imagesSliderSkeleton}),e.jsxs("div",{className:c.mainControls,children:[e.jsxs("div",{className:c.optionsWrapper,children:[e.jsxs("div",{className:c.optionsBlock,children:[e.jsx("div",{className:c.labelSkeleton}),e.jsx("div",{className:c.optionsListSkeleton})]}),e.jsxs("div",{className:c.optionsBlock,children:[e.jsx("div",{className:c.labelSkeleton}),e.jsx("div",{className:c.optionsListSkeleton})]})]}),e.jsx("div",{className:c.priceSkeleton}),e.jsxs("div",{className:c.buttonsSkeleton,children:[e.jsx("div",{className:c.buttonSkeleton}),e.jsx("div",{className:c.buttonSkeleton})]}),e.jsx("div",{className:c.specs,children:[...Array(4)].map((r,t)=>e.jsx("div",{className:c.specsItemSkeleton},t))})]})]}),e.jsxs("section",{className:c.about,children:[e.jsx("div",{className:c.aboutTitle}),[...Array(2)].map((r,t)=>e.jsxs("div",{className:c.aboutItem,children:[e.jsx("div",{className:c.aboutItemTitle}),e.jsx("div",{className:c.aboutItemText})]},t))]}),e.jsxs("section",{className:c.techSpecs,children:[e.jsx("div",{className:c.specsTitle}),e.jsx("div",{className:c.specsGrid,children:[...Array(8)].map((r,t)=>e.jsx("div",{className:c.specsItemSkeleton},t))})]}),e.jsxs("div",{className:c.suggestedProducts,children:[e.jsx("div",{className:c.sliderTitle}),e.jsx("div",{className:c.slider,children:[...Array(4)].map(r=>e.jsx(re,{},r))})]})]}),Zs=()=>{const{products:r,addToCart:t,isInCart:w,toggleFavourites:b,isInFavourites:x}=X(),{productId:f}=ee(),[C,g]=j.useState([]),[i,a]=j.useState(null),[n,l]=j.useState(!1),[d,u]=j.useState(""),_={triggerOnce:!0,rootMargin:"0px 0px -20% 0px"},{ref:I,inView:m}=v(_),{ref:p,inView:T}=v(_),{ref:E,inView:L}=v(_),{ref:O,inView:q}=v(_),{ref:W,inView:G}=v(_),{ref:z,inView:H}=v(_),{ref:U,inView:Y}=v(_),{ref:Z,inView:J}=v(_),N=j.useMemo(()=>r.find(o=>o.itemId===f),[f,r]),S=se().pathname.split("/")[1],y=j.useCallback((o,A)=>{const P=C.find(({color:$,capacity:V,namespaceId:B})=>o==="color"&&$===A&&B===(i==null?void 0:i.namespaceId)&&V===i.capacity||o==="capacity"&&V===A&&B===(i==null?void 0:i.namespaceId)&&$===i.color);return P==null?void 0:P.id},[i,C]),K=j.useMemo(()=>rs(r,S,f||""),[f,r,S]);return j.useEffect(()=>{u(""),l(!0),Ze(S).then(o=>{g(o);const A=o.find(P=>P.id===f);a(A||null)}).catch(()=>{u(`Failed to load ${S} details`)}).finally(()=>{setTimeout(()=>{l(!1)},100)})},[S,f]),n?e.jsx("div",{className:s.content,children:e.jsx(Os,{})}):!n&&d?e.jsx("div",{className:s.content,children:e.jsx("p",{className:s.errorMessage,children:d})}):i===null?e.jsx("div",{className:s.content,children:e.jsx("p",{className:s.errorMessage,children:"Product not found."})}):N?e.jsxs("div",{className:s.content,children:[e.jsx("div",{ref:I,className:h(s.breadcrumbs,"fadeEffect",{fadeEffectActive:m}),children:e.jsx(te,{})}),e.jsx("div",{ref:p,className:h(s.backButton,"fadeEffect",{fadeEffectActive:T}),children:e.jsx(ie,{})}),e.jsx("h2",{ref:E,className:h(s.pageTitle,"fadeEffect",{fadeEffectActive:L}),children:i.name}),e.jsx("div",{ref:O,className:h(s.imagesSlider,"fadeEffect",{fadeEffectActive:q}),children:e.jsx(os,{images:i.images})}),e.jsxs("div",{ref:W,className:h(s.mainControls,"fadeEffect",{fadeEffectActive:G}),children:[e.jsxs("div",{className:s.optionsWrapper,children:[e.jsxs("div",{className:s.options,children:[e.jsxs("div",{className:s.optionsLabel,children:["Available colors",e.jsx("span",{className:s.productId,children:`ID: ${N.id}`})]}),e.jsx("ul",{className:s.optionsList,children:i.colorsAvailable.map(o=>e.jsx("li",{className:s.optionsListItem,children:e.jsx(R,{to:`/${S}/${y("color",o)}`,className:h(s.optionsColorLink,{[s.optionsColorLinkActive]:o===i.color}),children:e.jsx("span",{style:{backgroundColor:o},className:s.optionsIcon})})},o))})]}),e.jsxs("div",{className:s.options,children:[e.jsx("span",{className:s.optionsLabel,children:"Select capacity"}),e.jsx("ul",{className:s.optionsList,children:i.capacityAvailable.map(o=>e.jsx("li",{className:s.optionsListItem,children:e.jsx(R,{to:`/${S}/${y("capacity",o)}`,className:h(s.optionsCapacityLink,{[s.optionsCapacityLinkActive]:o===i.capacity}),children:o.split("GB").join(" GB")})},o))})]})]}),e.jsxs("div",{className:s.priceWrapper,children:[e.jsx("span",{className:s.priceDiscount,children:`$${i.priceDiscount}`}),e.jsx("span",{className:s.priceRegular,children:`$${i.priceRegular}`})]}),e.jsxs("div",{className:s.buttons,children:[e.jsx("button",{onClick:()=>t(N),className:h(s.btnAdd,{[s.btnAddActive]:w(N)}),children:w(N)?"Added":"Add to cart"}),e.jsx("button",{onClick:()=>b(N),className:s.btnFav,children:e.jsx("span",{className:h(s.iconFav,{[s.iconFavActive]:x(N)})})})]}),e.jsxs("div",{className:s.specs,children:[e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Screen"}),e.jsx("span",{className:s.specsItemValue,children:i.screen})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Resolution"}),e.jsx("span",{className:s.specsItemValue,children:i.resolution})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Processor"}),e.jsx("span",{className:s.specsItemValue,children:i.processor})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"RAM"}),e.jsx("span",{className:s.specsItemValue,children:i.ram})]})]})]}),e.jsxs("section",{ref:z,className:h(s.about,"fadeEffect",{fadeEffectActive:H}),children:[e.jsx("h3",{className:s.aboutTitle,children:"About"}),i.description.map(o=>e.jsxs("article",{className:s.aboutItem,children:[e.jsx("h4",{className:s.aboutItemTitle,children:o.title}),e.jsx("p",{className:s.aboutItemText,children:o.text})]},o.title))]}),e.jsxs("section",{ref:U,className:h(s.techSpecs,"fadeEffect",{fadeEffectActive:Y}),children:[e.jsx("h3",{className:s.specsTitle,children:"Tech specs"}),e.jsxs("div",{className:s.specs,children:[e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Screen"}),e.jsx("span",{className:s.specsItemValue,children:i.screen})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Resolution"}),e.jsx("span",{className:s.specsItemValue,children:i.resolution})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Processor"}),e.jsx("span",{className:s.specsItemValue,children:i.processor})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"RAM"}),e.jsx("span",{className:s.specsItemValue,children:i.ram})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Built in memory"}),e.jsx("span",{className:s.specsItemValue,children:i.capacity})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Camera"}),e.jsx("span",{className:s.specsItemValue,children:i.camera})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Zoom"}),e.jsx("span",{className:s.specsItemValue,children:i.zoom})]}),e.jsxs("span",{className:s.specsItem,children:[e.jsx("span",{className:s.specsItemProp,children:"Cell"}),e.jsx("span",{className:s.specsItemValue,children:i.cell.join(", ")})]})]})]}),e.jsx("div",{ref:Z,className:h(s.suggestedProductsSlider,"fadeEffect",{fadeEffectActive:J}),children:e.jsx(oe,{title:"You may also like",products:K,priceType:"discount"})})]}):e.jsx("div",{className:s.content,children:e.jsx("p",{className:s.errorMessage,children:"Product data is missing."})})};export{Zs as ProductDetailsPage};
