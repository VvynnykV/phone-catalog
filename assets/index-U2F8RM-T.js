import{u as X,j as s,p as te,c as W,L as q,a as Z,r as V}from"./index-C6L-97Tt.js";import{m as M,e as ae,a as K,s as U,c as se,b as ie,g as R,S as le,N as ne,d as re,P as J}from"./ProductsSlider-B_b4VB8g.js";import{P as Q}from"./ProductCardSkeleton-C_8G50_M.js";import{I as oe}from"./index-BzCR4OmE.js";import"./ProductCard-C4hgG1QM.js";const ce="_dark_15dpb_66",de="_light_15dpb_78",pe="_fadeEffect_15dpb_107",ue="_fadeEffectActive_15dpb_114",me="_visuallyHidden_15dpb_174",fe="_content_15dpb_186",ge="_title_15dpb_200",ye="_body_15dpb_208",G={dark:ce,light:de,fadeEffect:pe,fadeEffectActive:ue,"small-text":"_small-text_15dpb_167",visuallyHidden:me,content:fe,title:ge,body:ye};function F(d){return d===void 0&&(d=""),`.${d.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function he(d){let{swiper:e,extendParams:$,on:p,emit:f}=d;const o="swiper-pagination";$({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let c,g=0;function C(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function T(t,a){const{bulletActiveClass:i}=e.params.pagination;t&&(t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${i}-${a}`),t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${i}-${a}-${a}`)))}function j(t,a,i){if(t=t%i,a=a%i,a===t+1)return"next";if(a===t-1)return"previous"}function B(t){const a=t.target.closest(F(e.params.pagination.bulletClass));if(!a)return;t.preventDefault();const i=K(a)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===i)return;const l=j(e.realIndex,i,e.slides.length);l==="next"?e.slideNext():l==="previous"?e.slidePrev():e.slideToLoop(i)}else e.slideTo(i)}function N(){const t=e.rtl,a=e.params.pagination;if(C())return;let i=e.pagination.el;i=M(i);let l,y;const k=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,P=e.params.loop?Math.ceil(k/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(y=e.previousRealIndex||0,l=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(l=e.snapIndex,y=e.previousSnapIndex):(y=e.previousIndex||0,l=e.activeIndex||0),a.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const n=e.pagination.bullets;let h,b,D;if(a.dynamicBullets&&(c=ae(n[0],e.isHorizontal()?"width":"height"),i.forEach(u=>{u.style[e.isHorizontal()?"width":"height"]=`${c*(a.dynamicMainBullets+4)}px`}),a.dynamicMainBullets>1&&y!==void 0&&(g+=l-(y||0),g>a.dynamicMainBullets-1?g=a.dynamicMainBullets-1:g<0&&(g=0)),h=Math.max(l-g,0),b=h+(Math.min(n.length,a.dynamicMainBullets)-1),D=(b+h)/2),n.forEach(u=>{const v=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(_=>`${a.bulletActiveClass}${_}`)].map(_=>typeof _=="string"&&_.includes(" ")?_.split(" "):_).flat();u.classList.remove(...v)}),i.length>1)n.forEach(u=>{const v=K(u);v===l?u.classList.add(...a.bulletActiveClass.split(" ")):e.isElement&&u.setAttribute("part","bullet"),a.dynamicBullets&&(v>=h&&v<=b&&u.classList.add(...`${a.bulletActiveClass}-main`.split(" ")),v===h&&T(u,"prev"),v===b&&T(u,"next"))});else{const u=n[l];if(u&&u.classList.add(...a.bulletActiveClass.split(" ")),e.isElement&&n.forEach((v,_)=>{v.setAttribute("part",_===l?"bullet-active":"bullet")}),a.dynamicBullets){const v=n[h],_=n[b];for(let z=h;z<=b;z+=1)n[z]&&n[z].classList.add(...`${a.bulletActiveClass}-main`.split(" "));T(v,"prev"),T(_,"next")}}if(a.dynamicBullets){const u=Math.min(n.length,a.dynamicMainBullets+4),v=(c*u-c)/2-D*c,_=t?"right":"left";n.forEach(z=>{z.style[e.isHorizontal()?_:"top"]=`${v}px`})}}i.forEach((n,h)=>{if(a.type==="fraction"&&(n.querySelectorAll(F(a.currentClass)).forEach(b=>{b.textContent=a.formatFractionCurrent(l+1)}),n.querySelectorAll(F(a.totalClass)).forEach(b=>{b.textContent=a.formatFractionTotal(P)})),a.type==="progressbar"){let b;a.progressbarOpposite?b=e.isHorizontal()?"vertical":"horizontal":b=e.isHorizontal()?"horizontal":"vertical";const D=(l+1)/P;let u=1,v=1;b==="horizontal"?u=D:v=D,n.querySelectorAll(F(a.progressbarFillClass)).forEach(_=>{_.style.transform=`translate3d(0,0,0) scaleX(${u}) scaleY(${v})`,_.style.transitionDuration=`${e.params.speed}ms`})}a.type==="custom"&&a.renderCustom?(U(n,a.renderCustom(e,l+1,P)),h===0&&f("paginationRender",n)):(h===0&&f("paginationRender",n),f("paginationUpdate",n)),e.params.watchOverflow&&e.enabled&&n.classList[e.isLocked?"add":"remove"](a.lockClass)})}function A(){const t=e.params.pagination;if(C())return;const a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let i=e.pagination.el;i=M(i);let l="";if(t.type==="bullets"){let y=e.params.loop?Math.ceil(a/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&y>a&&(y=a);for(let k=0;k<y;k+=1)t.renderBullet?l+=t.renderBullet.call(e,k,t.bulletClass):l+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?l=t.renderFraction.call(e,t.currentClass,t.totalClass):l=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?l=t.renderProgressbar.call(e,t.progressbarFillClass):l=`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],i.forEach(y=>{t.type!=="custom"&&U(y,l||""),t.type==="bullets"&&e.pagination.bullets.push(...y.querySelectorAll(F(t.bulletClass)))}),t.type!=="custom"&&f("paginationRender",i[0])}function E(){e.params.pagination=se(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let a;typeof t.el=="string"&&e.isElement&&(a=e.el.querySelector(t.el)),!a&&typeof t.el=="string"&&(a=[...document.querySelectorAll(t.el)]),a||(a=t.el),!(!a||a.length===0)&&(e.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(a)&&a.length>1&&(a=[...e.el.querySelectorAll(t.el)],a.length>1&&(a=a.find(i=>ie(i,".swiper")[0]===e.el))),Array.isArray(a)&&a.length===1&&(a=a[0]),Object.assign(e.pagination,{el:a}),a=M(a),a.forEach(i=>{t.type==="bullets"&&t.clickable&&i.classList.add(...(t.clickableClass||"").split(" ")),i.classList.add(t.modifierClass+t.type),i.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(i.classList.add(`${t.modifierClass}${t.type}-dynamic`),g=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&i.classList.add(t.progressbarOppositeClass),t.clickable&&i.addEventListener("click",B),e.enabled||i.classList.add(t.lockClass)}))}function I(){const t=e.params.pagination;if(C())return;let a=e.pagination.el;a&&(a=M(a),a.forEach(i=>{i.classList.remove(t.hiddenClass),i.classList.remove(t.modifierClass+t.type),i.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(i.classList.remove(...(t.clickableClass||"").split(" ")),i.removeEventListener("click",B))})),e.pagination.bullets&&e.pagination.bullets.forEach(i=>i.classList.remove(...t.bulletActiveClass.split(" ")))}p("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:a}=e.pagination;a=M(a),a.forEach(i=>{i.classList.remove(t.horizontalClass,t.verticalClass),i.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),p("init",()=>{e.params.pagination.enabled===!1?S():(E(),A(),N())}),p("activeIndexChange",()=>{typeof e.snapIndex>"u"&&N()}),p("snapIndexChange",()=>{N()}),p("snapGridLengthChange",()=>{A(),N()}),p("destroy",()=>{I()}),p("enable disable",()=>{let{el:t}=e.pagination;t&&(t=M(t),t.forEach(a=>a.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),p("lock unlock",()=>{N()}),p("click",(t,a)=>{const i=a.target,l=M(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&l&&l.length>0&&!i.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;const y=l[0].classList.contains(e.params.pagination.hiddenClass);f(y===!0?"paginationShow":"paginationHide"),l.forEach(k=>k.classList.toggle(e.params.pagination.hiddenClass))}});const O=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=M(t),t.forEach(a=>a.classList.remove(e.params.pagination.paginationDisabledClass))),E(),A(),N()},S=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=M(t),t.forEach(a=>a.classList.add(e.params.pagination.paginationDisabledClass))),I()};Object.assign(e.pagination,{enable:O,disable:S,render:A,update:N,init:E,destroy:I})}function ve(d){let{swiper:e,extendParams:$,on:p,emit:f,params:o}=d;e.autoplay={running:!1,paused:!1,timeLeft:0},$({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,g,C=o&&o.autoplay?o.autoplay.delay:3e3,T=o&&o.autoplay?o.autoplay.delay:3e3,j,B=new Date().getTime(),N,A,E,I,O,S,t;function a(r){!e||e.destroyed||!e.wrapperEl||r.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",a),!(t||r.detail&&r.detail.bySwiperTouchMove)&&h())}const i=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?N=!0:N&&(T=j,N=!1);const r=e.autoplay.paused?j:B+T-new Date().getTime();e.autoplay.timeLeft=r,f("autoplayTimeLeft",r,r/C),g=requestAnimationFrame(()=>{i()})},l=()=>{let r;return e.virtual&&e.params.virtual.enabled?r=e.slides.find(L=>L.classList.contains("swiper-slide-active")):r=e.slides[e.activeIndex],r?parseInt(r.getAttribute("data-swiper-autoplay"),10):void 0},y=r=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(g),i();let w=typeof r>"u"?e.params.autoplay.delay:r;C=e.params.autoplay.delay,T=e.params.autoplay.delay;const L=l();!Number.isNaN(L)&&L>0&&typeof r>"u"&&(w=L,C=L,T=L),j=w;const H=e.params.speed,Y=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(H,!0,!0),f("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,H,!0,!0),f("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(H,!0,!0),f("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,H,!0,!0),f("autoplay")),e.params.cssMode&&(B=new Date().getTime(),requestAnimationFrame(()=>{y()})))};return w>0?(clearTimeout(c),c=setTimeout(()=>{Y()},w)):requestAnimationFrame(()=>{Y()}),w},k=()=>{B=new Date().getTime(),e.autoplay.running=!0,y(),f("autoplayStart")},P=()=>{e.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(g),f("autoplayStop")},n=(r,w)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(c),r||(S=!0);const L=()=>{f("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",a):h()};if(e.autoplay.paused=!0,w){O&&(j=e.params.autoplay.delay),O=!1,L();return}j=(j||e.params.autoplay.delay)-(new Date().getTime()-B),!(e.isEnd&&j<0&&!e.params.loop)&&(j<0&&(j=0),L())},h=()=>{e.isEnd&&j<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(B=new Date().getTime(),S?(S=!1,y(j)):y(),e.autoplay.paused=!1,f("autoplayResume"))},b=()=>{if(e.destroyed||!e.autoplay.running)return;const r=R();r.visibilityState==="hidden"&&(S=!0,n(!0)),r.visibilityState==="visible"&&h()},D=r=>{r.pointerType==="mouse"&&(S=!0,t=!0,!(e.animating||e.autoplay.paused)&&n(!0))},u=r=>{r.pointerType==="mouse"&&(t=!1,e.autoplay.paused&&h())},v=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",D),e.el.addEventListener("pointerleave",u))},_=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",D),e.el.removeEventListener("pointerleave",u))},z=()=>{R().addEventListener("visibilitychange",b)},ee=()=>{R().removeEventListener("visibilitychange",b)};p("init",()=>{e.params.autoplay.enabled&&(v(),z(),k())}),p("destroy",()=>{_(),ee(),e.autoplay.running&&P()}),p("_freeModeStaticRelease",()=>{(E||S)&&h()}),p("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?P():n(!0,!0)}),p("beforeTransitionStart",(r,w,L)=>{e.destroyed||!e.autoplay.running||(L||!e.params.autoplay.disableOnInteraction?n(!0,!0):P())}),p("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){P();return}A=!0,E=!1,S=!1,I=setTimeout(()=>{S=!0,E=!0,n(!0)},200)}}),p("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!A)){if(clearTimeout(I),clearTimeout(c),e.params.autoplay.disableOnInteraction){E=!1,A=!1;return}E&&e.params.cssMode&&h(),E=!1,A=!1}}),p("slideChange",()=>{e.destroyed||!e.autoplay.running||(O=!0)}),Object.assign(e.autoplay,{start:k,stop:P,pause:n,resume:h})}const be=()=>{const{t:d}=X();return s.jsx("section",{className:"slider",children:s.jsxs("div",{className:"slider__content",children:[s.jsxs("div",{className:"slider__body",children:[s.jsx("button",{className:"slider__button slider__button--prev"}),s.jsx(le,{modules:[ne,he,ve],navigation:{prevEl:".slider__button--prev",nextEl:".slider__button--next"},pagination:{el:".slider__pagination",clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},speed:500,loop:!0,className:"slider__wrapper",children:te.map(e=>s.jsx(re,{className:W("slider__slide",{"slider__slide--phones":e.path==="phones","slider__slide--tablets":e.path==="tablets","slider__slide--accessories":e.path==="accessories"}),children:s.jsx(q,{to:e.path,className:"slider__slide-link",children:d(e.titleKey)})},e.path))}),s.jsx("button",{className:"slider__button slider__button--next"})]}),s.jsx("div",{className:"slider__pagination"})]})})},_e="_dark_1xibx_66",xe="_light_1xibx_78",Ce="_fadeEffect_1xibx_107",je="_fadeEffectActive_1xibx_114",Le="_sectionTitle_1xibx_174",Te="_categories_1xibx_178",Ne="_link_1xibx_190",Se="_categoryPhoto_1xibx_217",Ee="_categoryTitle_1xibx_221",ke="_amount_1xibx_225",m={dark:_e,light:xe,fadeEffect:Ce,fadeEffectActive:je,"small-text":"_small-text_1xibx_167",sectionTitle:Le,categories:Te,link:Ne,categoryPhoto:Se,categoryTitle:Ee,amount:ke},$e=()=>{const{products:d}=Z(),{t:e}=X(),{phonesAmount:$,tabletsAmount:p,accessoriesAmount:f}=V.useMemo(()=>{const o=d.filter(C=>C.category==="phones").length,c=d.filter(C=>C.category==="tablets").length,g=d.filter(C=>C.category==="accessories").length;return{phonesAmount:o,tabletsAmount:c,accessoriesAmount:g}},[d]);return s.jsxs("section",{className:m.content,children:[s.jsx("h2",{className:m.sectionTitle,children:e("sectionTitle")}),s.jsxs("div",{className:m.categories,children:[s.jsx(q,{to:"/phones",className:m.link,children:s.jsxs("article",{className:m.category,children:[s.jsx("img",{src:"./img/shop-by-category/phones.png",alt:"category photo",className:m.categoryPhoto}),s.jsxs("div",{className:m.info,children:[s.jsx("h3",{className:m.categoryTitle,children:e("categoryTitle.phones")}),s.jsx("div",{className:m.amount,children:e("models",{count:$})})]})]})}),s.jsx(q,{to:"/tablets",className:m.link,children:s.jsxs("article",{className:m.category,children:[s.jsx("img",{src:"./img/shop-by-category/tablets.png",alt:"category photo",className:m.categoryPhoto}),s.jsxs("div",{className:m.info,children:[s.jsx("h3",{className:m.categoryTitle,children:e("categoryTitle.tablets")}),s.jsx("div",{className:m.amount,children:e("models",{count:p})})]})]})}),s.jsx(q,{to:"/accessories",className:m.link,children:s.jsxs("article",{className:m.category,children:[s.jsx("img",{src:"./img/shop-by-category/accessories.png",alt:"category photo",className:m.categoryPhoto}),s.jsxs("div",{className:m.info,children:[s.jsx("h3",{className:m.categoryTitle,children:e("categoryTitle.accessories")}),s.jsx("div",{className:m.amount,children:e("models",{count:f})})]})]})})]})]})},Ae="_homeContent_177bz_12",Pe="_titleSkeleton_177bz_16",we="_pulse_177bz_1",Me="_homeBody_177bz_24",Be="_sliderSkeleton_177bz_30",De="_section_177bz_37",ze="_sectionTitle_177bz_43",Ie="_productsSlider_177bz_50",Oe="_productCard_177bz_56",He="_categoriesGrid_177bz_61",Fe="_categorySkeleton_177bz_67",x={homeContent:Ae,titleSkeleton:Pe,pulse:we,homeBody:Me,sliderSkeleton:Be,section:De,sectionTitle:ze,productsSlider:Ie,productCard:Oe,categoriesGrid:He,categorySkeleton:Fe},Ge=()=>s.jsxs("div",{className:x.homeContent,children:[s.jsx("div",{className:x.titleSkeleton}),s.jsxs("div",{className:x.homeBody,children:[s.jsx("div",{className:x.sliderSkeleton}),s.jsxs("div",{className:x.section,children:[s.jsx("div",{className:x.sectionTitle}),s.jsx("div",{className:x.productsSlider,children:Array.from({length:4}).map((d,e)=>s.jsx("div",{className:x.productCard,children:s.jsx(Q,{})},e))})]}),s.jsxs("div",{className:x.section,children:[s.jsx("div",{className:x.sectionTitle}),s.jsx("div",{className:x.categoriesGrid,children:Array.from({length:3}).map((d,e)=>s.jsx("div",{className:x.categorySkeleton},e))})]}),s.jsxs("div",{className:x.section,children:[s.jsx("div",{className:x.sectionTitle}),s.jsx("div",{className:x.productsSlider,children:Array.from({length:4}).map((d,e)=>s.jsx("div",{className:x.productCard,children:s.jsx(Q,{})},e))})]})]})]}),Ke=()=>{const{products:d,isLoading:e}=Z(),{t:$}=X(),p=V.useMemo(()=>d.filter(c=>c.category==="phones").sort((c,g)=>g.year-c.year),[d]),f=V.useMemo(()=>d.filter(c=>c.category==="phones").sort((c,g)=>g.fullPrice-g.price-(c.fullPrice-c.price)),[d]);if(e)return s.jsx(Ge,{});const o=[{key:"slider",element:s.jsx(be,{})},{key:"newest",element:s.jsx(J,{title:$("newModels"),products:p,priceType:"regular"})},{key:"categories",element:s.jsx($e,{})},{key:"discounts",element:s.jsx(J,{title:$("hotPrices"),products:f,priceType:"discount"})}];return s.jsxs("div",{className:G.content,children:[s.jsx("h1",{className:G.visuallyHidden,children:"Product Catalog"}),s.jsx("h2",{className:G.title,children:$("homeTitle")}),s.jsx("div",{className:G.body,children:o.map(({key:c,element:g})=>s.jsx(oe,{rootMargin:"-80px 0px",children:({inView:C,ref:T})=>s.jsx("div",{ref:T,className:W("fadeEffect",{fadeEffectActive:C}),children:g})},c))})]})};export{Ke as HomePage};
