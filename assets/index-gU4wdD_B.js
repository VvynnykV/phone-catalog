import{r as l,a as u,j as t,L as x,u as p,c as h}from"./index-Dg1FrSmq.js";import{B as y}from"./BackButton-DFdRGg6a.js";import{I as C}from"./index-BHsqwR0Y.js";const b="_dark_u6ub5_66",j="_light_u6ub5_78",k="_fadeEffect_u6ub5_107",v="_fadeEffectActive_u6ub5_114",N="_body_u6ub5_174",g="_backBtn_u6ub5_183",B="_content_u6ub5_187",T="_cartTitle_u6ub5_212",E="_items_u6ub5_217",I="_cardTotal_u6ub5_228",P="_cardTotalValues_u6ub5_239",$="_cardTotaPrice_u6ub5_255",A="_cardTotaItems_u6ub5_263",R="_checkoutBtn_u6ub5_267",V="_emptyCart_u6ub5_278",q="_emptyCartText_u6ub5_283",L="_emptyCartImg_u6ub5_292",a={dark:b,light:j,fadeEffect:k,fadeEffectActive:v,"small-text":"_small-text_u6ub5_167",body:N,backBtn:g,content:B,cartTitle:T,items:E,cardTotal:I,cardTotalValues:P,cardTotaPrice:$,cardTotaItems:A,checkoutBtn:R,emptyCart:V,emptyCartText:q,emptyCartImg:L},M="_dark_1bply_66",w="_light_1bply_78",W="_fadeEffect_1bply_107",S="_fadeEffectActive_1bply_114",D="_modal_1bply_174",Q="_fadeIn_1bply_1",Y="_modalBody_1bply_190",G="_scaleIn_1bply_1",K="_modalBtns_1bply_217",z="_modalBtn_1bply_217",d={dark:M,light:w,fadeEffect:W,fadeEffectActive:S,"small-text":"_small-text_1bply_167",modal:D,fadeIn:Q,modalBody:Y,scaleIn:G,modalBtns:K,modalBtn:z},F=l.memo(({setIsModalOpen:e})=>{const{setCart:n}=u();return l.useEffect(()=>{const i=m=>{m.key==="Escape"&&e(!1)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),t.jsx("div",{onClick:()=>e(!1),className:d.modal,children:t.jsxs("div",{onClick:i=>i.stopPropagation(),className:d.modalBody,children:[t.jsx("h4",{className:d.modalMessage,children:"Checkout is not implemented yet. Do you want to clear the Cart?"}),t.jsxs("div",{className:d.modalBtns,children:[t.jsx("button",{onClick:()=>n([]),className:d.modalBtn,children:"Yes"}),t.jsx("button",{onClick:()=>e(!1),className:d.modalBtn,children:"No"})]})]})})}),H="_dark_oeix8_66",J="_light_oeix8_78",O="_fadeEffect_oeix8_107",U="_fadeEffectActive_oeix8_114",X="_item_oeix8_174",Z="_itemPart1_oeix8_189",tt="_itemBtnRemove_oeix8_200",et="_itemIconRemove_oeix8_204",st="_itemLink_oeix8_211",at="_imgWrapper_oeix8_217",ct="_itemImg_oeix8_226",ot="_itemPart2_oeix8_232",nt="_itemCounter_oeix8_243",it="_itemCounterBtn_oeix8_247",lt="_itemCounterIcon_oeix8_262",mt="_itemCounterIconPlus_oeix8_262",rt="_itemCounterIconMinus_oeix8_262",dt="_itemCounterValue_oeix8_277",_t="_itemPrice_oeix8_289",s={dark:H,light:J,fadeEffect:O,fadeEffectActive:U,"small-text":"_small-text_oeix8_167",item:X,itemPart1:Z,itemBtnRemove:tt,itemIconRemove:et,itemLink:st,imgWrapper:at,itemImg:ct,itemPart2:ot,itemCounter:nt,itemCounterBtn:it,itemCounterIcon:lt,itemCounterIconPlus:mt,itemCounterIconMinus:rt,itemCounterValue:dt,itemPrice:_t},ut=l.memo(({cartItem:e})=>{const{setCart:n}=u(),i=l.useCallback(_=>{n(r=>r.filter(o=>o.id!==_))},[n]),m=l.useCallback((_,r)=>{n(o=>o.map(c=>c.id===_&&c.quantity>0?{...c,quantity:r}:c))},[n]);return t.jsxs("li",{className:s.item,children:[t.jsxs("div",{className:s.itemPart1,children:[t.jsx("button",{onClick:()=>i(e.id),className:s.itemBtnRemove,children:t.jsx("span",{className:s.itemIconRemove})}),t.jsxs(x,{to:`/${e.product.category}/${e.product.itemId}`,className:s.itemLink,children:[t.jsx("div",{className:s.imgWrapper,children:t.jsx("img",{src:e.product.image,alt:`product image ${e.product.name}`,className:s.itemImg})}),t.jsx("div",{className:s.itemName,children:e.product.name})]})]}),t.jsxs("div",{className:s.itemPart2,children:[t.jsxs("div",{className:s.itemCounter,children:[t.jsx("button",{onClick:()=>m(e.id,e.quantity-1),className:s.itemCounterBtn,disabled:e.quantity===1,children:t.jsx("span",{className:s.itemCounterIconMinus})}),t.jsx("span",{className:s.itemCounterValue,children:e.quantity}),t.jsx("button",{onClick:()=>m(e.id,e.quantity+1),className:s.itemCounterBtn,children:t.jsx("span",{className:s.itemCounterIconPlus})})]}),t.jsx("div",{className:s.itemPrice,children:`$${e.product.price}`})]})]})}),ht=()=>{const{cart:e}=u(),{t:n}=p(),[i,m]=l.useState(!1),_=l.useMemo(()=>e.reduce((o,c)=>o+c.product.price*c.quantity,0),[e]),r=l.useMemo(()=>e.reduce((o,c)=>o+c.quantity,0),[e]);return t.jsxs("div",{className:a.body,children:[t.jsx("div",{className:a.backBtn,children:t.jsx(y,{})}),e.length?t.jsxs("div",{className:a.content,children:[t.jsx("h1",{className:a.cartTitle,children:n("cartTitle")}),t.jsx("ul",{className:a.items,children:e.map(o=>t.jsx(C,{triggerOnce:!0,rootMargin:"-100px 0px",children:({inView:c,ref:f})=>t.jsx("li",{ref:f,className:h("fadeEffect",{fadeEffectActive:c}),children:t.jsx(ut,{cartItem:o})})},o.id))}),t.jsxs("div",{className:a.cardTotal,children:[t.jsxs("div",{className:a.cardTotalValues,children:[t.jsx("span",{className:a.cardTotaPrice,children:`$${_}`}),t.jsx("span",{className:a.cardTotaItems,children:r===1?`Total for ${r} item`:`Total for ${r} items`})]}),t.jsx("button",{onClick:()=>m(!0),className:a.checkoutBtn,children:n("checkoutBtn")}),i&&t.jsx(F,{setIsModalOpen:m})]})]}):t.jsxs("div",{className:a.emptyCart,children:[t.jsx("div",{className:a.emptyCartText,children:"Your cart is empty"}),t.jsx("img",{src:"./img/cart-is-empty.png",alt:"cart-is-empty",className:a.emptyCartImg})]})]})};export{ht as ShoppingCartPage};
